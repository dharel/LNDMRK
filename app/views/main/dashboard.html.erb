<div ng-controller='DashboardController' ng-init='init()'>
  <header>
    <div class='header-wrap dashboard'>
      <ul class='left-side'>
        <li><a href='#/'><%= image_tag('lndmrk_logo.png',class: 'header-logo', width: '133', alt: 'LNDMRK') %></a></li> 
        <li><a class='link-1' translate>how_it_works</a></li>
        <li><a class='link-2' translate>about</a></li>
        <li><a class='link-3' translate>learning</a></li>
      </ul>
      <ul class='right-side'>
        <li><a class='notification'></a></li>
        <li>
          <a class='user-image'></a>
        </li>
        <li><a class='user' href='#'>USER@LNDMRK.COM</a></li>
        <li class='logout'><a class='link' translate>logout</a></li>
      </ul>
    </div>
  </header>
  <section class='portfolio'>
    <div class='container'>
      <div class='title-wrapper'>
        <div class='title' translate>portfolio_management</div>
      </div>
      <div class='management-wrapper'>
        <div class='total'>
          <div class='left'>
            <div class='top'>
              <div class='equity'>
                <div class='currency'>$15,893</div>
                <div class='text' translate>equity</div>
              </div>
              <div class='plus'>+</div>
              <div class='debt'>
                <div class='currency'>$13,678</div>
                <div class='text' translate>debt</div>
              </div>
              <div class='equals'>=</div>
            </div>
            <div class='bottom'>
              <div class='suitecase'></div>
              <div class='total-portfolio'>
                <div class='currency'>$67,901</div>
                <div class='text' translate>total_portfolio_value</div>
              </div>
            </div>
          </div>
          <div class='right'>
            <div class='title' translate>total_portfolio</div>
            <div class='graph-container'>
              <div class='graph-wrap' id='income'>
                <div class='graph'>
                  <div class='top'>40%</div>
                  <div class='bottom'>60%</div>
                </div>
                <div class='info'>
                  <div class='name' translate>income</div>
                  <div class='currency'>$35,309</div>
                </div>
              </div>
              <div class='graph-wrap' id='growth'>
                <div class='graph'>
                  <div class='bottom'>100%</div>
                </div>
                <div class='info'>
                  <div class='name' translate>growth</div>
                  <div class='currency'>$2,444</div>
                </div>
              </div>
              <div class='graph-wrap' id='income-growth'>
                <div class='graph'>
                  <div class='top'>19%</div>
                  <div class='bottom'>81%</div>
                </div>
                <div class='info'>
                  <div class='name' translate>income_growth</div>
                  <div class='currency'>$8148</div>
                </div>
              </div>
            </div>
          </div>
        </div>
        <div class='small total-gains '>
          <div class='title-small' translate>total_gains</div>
          <div class='graph'>
            <p class='text'>$13,567</p>
            <div class='lable-top'>
              <div class='title' translate>unrealized</div>
              <div class='currency'>$5,348</div>
            </div>
            <div class='lable-bottom'>
              <div class='title' translate>realized</div>
              <div class='currency'>$7,234</div>
            </div>  
          </div>
        </div>
        <div class='small yield '>
          <div class='title-small' translate>yield</div>
          <div class='graph'>
            <p class='text'>9%</p>
            <div class='lable-top'>
              <div class='title' translate>growth</div>
            </div>
            <div class='lable-bottom'>
              <div class='title' translate>income</div>
            </div>
          </div>
        </div>
        <div class='small monthly-income '>
          <div class='title-small' translate>monthly_income</div>
          <div class='subtitle' translate> prediction </div>
          <div class='graph'></div>
        </div>
        <div class='analyzing-tool'>
          <div class='title-small' translate>analyzing_tool</div>
          
          <div class='people-container'>
            <div ng-repeat='person in analyzingToolData track by $index'
                 class='person-wrap'>
              <div class='img' id='image-{{person.id}}'></div>
              <div class='name'>{{person.name}}</div>
              <div class='data-wrap'>
                <div class='data'>
                  <div class='title' translate>return</div>
                  <div class='return'>{{person.return}}%</div>
                </div>
                <div class='data'>
                  <div class='title' translate>risk</div>                  
                  <div class='risk' id='risk-{{person.risk}}'>{{person.risk}}</div>
                </div>                
              </div>
              <div class='value'>${{person.value}}</div>
            </div>
          </div>
          <div class='graphs-container'>
            <div class='graph1'>

            </div>
            <div class='graph2'><div class='text'>$5,679</div></div>
          </div>
        </div>
      </div>
    </div>
  </section>

  <section class='myproperties'>
    <div class='container'>
      <div class='line'></div>
      <div class='title' translate>my properties</div>

      <div class='properties-table'>
        <div class='headers-wrap'>
          <div class='header placeholder'></div>
          <div class='header price' style='width: 11%' translate>avarage_price_m</div>
          <div class='header owned' style='width: 10%' translate>mÂ² owned</div>
          <div class='header value' translate>total_ownership_value</div>
          <div class='header yield' style='width: 10%' translate>estimated_yield</div>
          <div class='header rating' style='width: 7%' translate>rating</div>
          <div class='header income' style='width: 15%' translate>current_monthly_income</div>
          <div class='header debt' style='width: 10%' translate>debt_to_value</div>
          <div class='header gains' style='width: 14%' translate>gains_from_initial_investment</div>
        </div>
        <div class='data-wrapper' 
             ng-repeat='property in data track by $index'
             ng-click='toggleExpanded(property)'>
          <div class='row-data'>
            <div class='data name' ng-class='property.class'>{{property.name}}</div>
            <div class='data price' style='width: 11%'>{{ calcAvarage('price', property.assets) | currency }}</div>
            <div class='data owned' style='width: 10%'>{{ sumProperty('owned', property.assets) }}</div>
            <div class='data value'>{{ sumProperty('value', property.assets) | currency}}</div>
            <div class='data yield' style='width: 10%'>{{ sumProperty('yield', property.assets) }}%</div>
            <div class='data rating' style='width: 7%'>A4-C1</div>
            <div class='data income' style='width: 15%'>{{ sumProperty('income', property.assets) | currency }}</div>
            <div class='data debt' style='width: 10%'>50% / $9,356</div>
            <div class='data gains' style='width: 14%'>{{ calcAvarage('gains', property.assets) | currency }}</div>
          </div>
          <div class='expanded-data-wrap' ng-show='expanded.id === property.id'>
            <div class='expanded-row-data' ng-repeat='asset in property.assets'>
              <div class='expanded-data name' ng-class='property.class'>{{asset.name}}</div>
              <div class='expanded-data' style='width: 11%'>{{asset.price | currency }}</div>
              <div class='expanded-data' style='width: 10%'>{{asset.owned}}</div>
              <div class='expanded-data'>{{asset.value | currency }}</div>
              <div class='expanded-data' style='width: 10%'>{{asset.yield}}%</div>
              <div class='expanded-data' style='width: 7%'>{{asset.risk}}</div>
              <div class='expanded-data' style='width: 15%'>{{asset.income | currency }}</div>
              <div class='expanded-data' style='width: 10%'>{{asset.debt | currency }}</div>
              <div class='expanded-data' style='width: 14%'>{{asset.gains | currency }}</div>
            </div>
          </div>
        </div>
        <div class='row-data sum'>
          <div class='data name'>sum</div>
            <div class='data' style='width: 11%'>{{sumAll('price') | currency }}</div>
            <div class='data' style='width: 10%'>{{sumAll('owned')}}</div>
            <div class='data'>{{sumAll('value') | currency}}</div>
            <div class='data' style='width: 10%'>{{sumAll('yield')}}%</div>
            <div class='data' style='width: 7%'>A4-C1</div>
            <div class='data' style='width: 15%'>{{sumAll('income') | currency}}</div>
            <div class='data' style='width: 10%'>50% / $9,356</div>
            <div class='data' style='width: 14%'>{{sumAll('gains') | currency}}</div>  
        </div>
      </div>
    </div>
  </section>
</div>